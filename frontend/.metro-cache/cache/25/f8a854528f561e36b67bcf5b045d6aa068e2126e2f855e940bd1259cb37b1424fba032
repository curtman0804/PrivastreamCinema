{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../api/client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":113,"index":147}}],"key":"vrY6iF+Nd2CrRu9d6eBxeX1BPiA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useContentStore\", {\n    enumerable: true,\n    get: function () {\n      return useContentStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _apiClient = require(_dependencyMap[1], \"../api/client\");\n  const useContentStore = (0, _zustand.create)((set, get) => ({\n    discoverData: null,\n    addons: [],\n    library: null,\n    searchResults: [],\n    streams: [],\n    isLoadingDiscover: false,\n    isLoadingAddons: false,\n    isLoadingLibrary: false,\n    isLoadingSearch: false,\n    isLoadingStreams: false,\n    error: null,\n    fetchDiscover: async () => {\n      set({\n        isLoadingDiscover: true,\n        error: null\n      });\n      try {\n        const data = await _apiClient.api.content.getDiscover();\n        set({\n          discoverData: data,\n          isLoadingDiscover: false\n        });\n      } catch (error) {\n        set({\n          error: error.message,\n          isLoadingDiscover: false\n        });\n      }\n    },\n    fetchAddons: async () => {\n      set({\n        isLoadingAddons: true,\n        error: null\n      });\n      try {\n        const data = await _apiClient.api.addons.getAll();\n        set({\n          addons: data,\n          isLoadingAddons: false\n        });\n      } catch (error) {\n        set({\n          error: error.message,\n          isLoadingAddons: false\n        });\n      }\n    },\n    fetchLibrary: async () => {\n      set({\n        isLoadingLibrary: true,\n        error: null\n      });\n      try {\n        const data = await _apiClient.api.library.get();\n        set({\n          library: data,\n          isLoadingLibrary: false\n        });\n      } catch (error) {\n        set({\n          error: error.message,\n          isLoadingLibrary: false\n        });\n      }\n    },\n    search: async query => {\n      if (!query.trim()) {\n        set({\n          searchResults: []\n        });\n        return;\n      }\n      set({\n        isLoadingSearch: true,\n        error: null\n      });\n      try {\n        const data = await _apiClient.api.content.search(query);\n        const results = [...(data.movies || []), ...(data.series || [])];\n        set({\n          searchResults: results,\n          isLoadingSearch: false\n        });\n      } catch (error) {\n        set({\n          error: error.message,\n          isLoadingSearch: false\n        });\n      }\n    },\n    fetchStreams: async (type, id) => {\n      set({\n        isLoadingStreams: true,\n        streams: [],\n        error: null\n      });\n      const {\n        addons\n      } = get();\n      const allStreams = [];\n\n      // Get streams from all stream-capable addons\n      const streamAddons = addons.filter(addon => addon.manifest.resources.includes('stream') || addon.manifest.resources.some(r => r?.name === 'stream'));\n      for (const addon of streamAddons) {\n        try {\n          const result = await _apiClient.api.addons.getStreams(addon.id, type, id);\n          if (result.streams) {\n            allStreams.push(...result.streams);\n          }\n        } catch (e) {\n          // Ignore errors from individual addons\n          console.log(`Failed to get streams from ${addon.manifest.name}`);\n        }\n      }\n      set({\n        streams: allStreams,\n        isLoadingStreams: false\n      });\n      return allStreams;\n    },\n    addToLibrary: async item => {\n      try {\n        await _apiClient.api.library.add(item);\n        await get().fetchLibrary();\n      } catch (error) {\n        set({\n          error: error.message\n        });\n      }\n    },\n    removeFromLibrary: async (type, id) => {\n      try {\n        await _apiClient.api.library.remove(type, id);\n        await get().fetchLibrary();\n      } catch (error) {\n        set({\n          error: error.message\n        });\n      }\n    },\n    clearSearch: () => {\n      set({\n        searchResults: []\n      });\n    }\n  }));\n});","lineCount":162,"map":[[7,2,26,0,"Object"],[7,8,26,0],[7,9,26,0,"defineProperty"],[7,23,26,0],[7,24,26,0,"exports"],[7,31,26,0],[8,4,26,0,"enumerable"],[8,14,26,0],[9,4,26,0,"get"],[9,7,26,0],[9,18,26,0,"get"],[9,19,26,0],[10,6,26,0],[10,13,26,0,"useContentStore"],[10,28,26,0],[11,4,26,0],[12,2,26,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,2,0],[14,6,2,0,"_apiClient"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,26,7],[15,8,26,13,"useContentStore"],[15,23,26,28],[15,26,26,31],[15,30,26,31,"create"],[15,38,26,37],[15,39,26,37,"create"],[15,45,26,37],[15,47,26,52],[15,48,26,53,"set"],[15,51,26,56],[15,53,26,58,"get"],[15,56,26,61],[15,62,26,67],[16,4,27,2,"discoverData"],[16,16,27,14],[16,18,27,16],[16,22,27,20],[17,4,28,2,"addons"],[17,10,28,8],[17,12,28,10],[17,14,28,12],[18,4,29,2,"library"],[18,11,29,9],[18,13,29,11],[18,17,29,15],[19,4,30,2,"searchResults"],[19,17,30,15],[19,19,30,17],[19,21,30,19],[20,4,31,2,"streams"],[20,11,31,9],[20,13,31,11],[20,15,31,13],[21,4,32,2,"isLoadingDiscover"],[21,21,32,19],[21,23,32,21],[21,28,32,26],[22,4,33,2,"isLoadingAddons"],[22,19,33,17],[22,21,33,19],[22,26,33,24],[23,4,34,2,"isLoadingLibrary"],[23,20,34,18],[23,22,34,20],[23,27,34,25],[24,4,35,2,"isLoadingSearch"],[24,19,35,17],[24,21,35,19],[24,26,35,24],[25,4,36,2,"isLoadingStreams"],[25,20,36,18],[25,22,36,20],[25,27,36,25],[26,4,37,2,"error"],[26,9,37,7],[26,11,37,9],[26,15,37,13],[27,4,39,2,"fetchDiscover"],[27,17,39,15],[27,19,39,17],[27,25,39,17,"fetchDiscover"],[27,26,39,17],[27,31,39,29],[28,6,40,4,"set"],[28,9,40,7],[28,10,40,8],[29,8,40,10,"isLoadingDiscover"],[29,25,40,27],[29,27,40,29],[29,31,40,33],[30,8,40,35,"error"],[30,13,40,40],[30,15,40,42],[31,6,40,47],[31,7,40,48],[31,8,40,49],[32,6,41,4],[32,10,41,8],[33,8,42,6],[33,14,42,12,"data"],[33,18,42,16],[33,21,42,19],[33,27,42,25,"api"],[33,37,42,28],[33,38,42,28,"api"],[33,41,42,28],[33,42,42,29,"content"],[33,49,42,36],[33,50,42,37,"getDiscover"],[33,61,42,48],[33,62,42,49],[33,63,42,50],[34,8,43,6,"set"],[34,11,43,9],[34,12,43,10],[35,10,43,12,"discoverData"],[35,22,43,24],[35,24,43,26,"data"],[35,28,43,30],[36,10,43,32,"isLoadingDiscover"],[36,27,43,49],[36,29,43,51],[37,8,43,57],[37,9,43,58],[37,10,43,59],[38,6,44,4],[38,7,44,5],[38,8,44,6],[38,15,44,13,"error"],[38,20,44,23],[38,22,44,25],[39,8,45,6,"set"],[39,11,45,9],[39,12,45,10],[40,10,45,12,"error"],[40,15,45,17],[40,17,45,19,"error"],[40,22,45,24],[40,23,45,25,"message"],[40,30,45,32],[41,10,45,34,"isLoadingDiscover"],[41,27,45,51],[41,29,45,53],[42,8,45,59],[42,9,45,60],[42,10,45,61],[43,6,46,4],[44,4,47,2],[44,5,47,3],[45,4,49,2,"fetchAddons"],[45,15,49,13],[45,17,49,15],[45,23,49,15,"fetchAddons"],[45,24,49,15],[45,29,49,27],[46,6,50,4,"set"],[46,9,50,7],[46,10,50,8],[47,8,50,10,"isLoadingAddons"],[47,23,50,25],[47,25,50,27],[47,29,50,31],[48,8,50,33,"error"],[48,13,50,38],[48,15,50,40],[49,6,50,45],[49,7,50,46],[49,8,50,47],[50,6,51,4],[50,10,51,8],[51,8,52,6],[51,14,52,12,"data"],[51,18,52,16],[51,21,52,19],[51,27,52,25,"api"],[51,37,52,28],[51,38,52,28,"api"],[51,41,52,28],[51,42,52,29,"addons"],[51,48,52,35],[51,49,52,36,"getAll"],[51,55,52,42],[51,56,52,43],[51,57,52,44],[52,8,53,6,"set"],[52,11,53,9],[52,12,53,10],[53,10,53,12,"addons"],[53,16,53,18],[53,18,53,20,"data"],[53,22,53,24],[54,10,53,26,"isLoadingAddons"],[54,25,53,41],[54,27,53,43],[55,8,53,49],[55,9,53,50],[55,10,53,51],[56,6,54,4],[56,7,54,5],[56,8,54,6],[56,15,54,13,"error"],[56,20,54,23],[56,22,54,25],[57,8,55,6,"set"],[57,11,55,9],[57,12,55,10],[58,10,55,12,"error"],[58,15,55,17],[58,17,55,19,"error"],[58,22,55,24],[58,23,55,25,"message"],[58,30,55,32],[59,10,55,34,"isLoadingAddons"],[59,25,55,49],[59,27,55,51],[60,8,55,57],[60,9,55,58],[60,10,55,59],[61,6,56,4],[62,4,57,2],[62,5,57,3],[63,4,59,2,"fetchLibrary"],[63,16,59,14],[63,18,59,16],[63,24,59,16,"fetchLibrary"],[63,25,59,16],[63,30,59,28],[64,6,60,4,"set"],[64,9,60,7],[64,10,60,8],[65,8,60,10,"isLoadingLibrary"],[65,24,60,26],[65,26,60,28],[65,30,60,32],[66,8,60,34,"error"],[66,13,60,39],[66,15,60,41],[67,6,60,46],[67,7,60,47],[67,8,60,48],[68,6,61,4],[68,10,61,8],[69,8,62,6],[69,14,62,12,"data"],[69,18,62,16],[69,21,62,19],[69,27,62,25,"api"],[69,37,62,28],[69,38,62,28,"api"],[69,41,62,28],[69,42,62,29,"library"],[69,49,62,36],[69,50,62,37,"get"],[69,53,62,40],[69,54,62,41],[69,55,62,42],[70,8,63,6,"set"],[70,11,63,9],[70,12,63,10],[71,10,63,12,"library"],[71,17,63,19],[71,19,63,21,"data"],[71,23,63,25],[72,10,63,27,"isLoadingLibrary"],[72,26,63,43],[72,28,63,45],[73,8,63,51],[73,9,63,52],[73,10,63,53],[74,6,64,4],[74,7,64,5],[74,8,64,6],[74,15,64,13,"error"],[74,20,64,23],[74,22,64,25],[75,8,65,6,"set"],[75,11,65,9],[75,12,65,10],[76,10,65,12,"error"],[76,15,65,17],[76,17,65,19,"error"],[76,22,65,24],[76,23,65,25,"message"],[76,30,65,32],[77,10,65,34,"isLoadingLibrary"],[77,26,65,50],[77,28,65,52],[78,8,65,58],[78,9,65,59],[78,10,65,60],[79,6,66,4],[80,4,67,2],[80,5,67,3],[81,4,69,2,"search"],[81,10,69,8],[81,12,69,10],[81,18,69,17,"query"],[81,23,69,30],[81,27,69,35],[82,6,70,4],[82,10,70,8],[82,11,70,9,"query"],[82,16,70,14],[82,17,70,15,"trim"],[82,21,70,19],[82,22,70,20],[82,23,70,21],[82,25,70,23],[83,8,71,6,"set"],[83,11,71,9],[83,12,71,10],[84,10,71,12,"searchResults"],[84,23,71,25],[84,25,71,27],[85,8,71,30],[85,9,71,31],[85,10,71,32],[86,8,72,6],[87,6,73,4],[88,6,74,4,"set"],[88,9,74,7],[88,10,74,8],[89,8,74,10,"isLoadingSearch"],[89,23,74,25],[89,25,74,27],[89,29,74,31],[90,8,74,33,"error"],[90,13,74,38],[90,15,74,40],[91,6,74,45],[91,7,74,46],[91,8,74,47],[92,6,75,4],[92,10,75,8],[93,8,76,6],[93,14,76,12,"data"],[93,18,76,16],[93,21,76,19],[93,27,76,25,"api"],[93,37,76,28],[93,38,76,28,"api"],[93,41,76,28],[93,42,76,29,"content"],[93,49,76,36],[93,50,76,37,"search"],[93,56,76,43],[93,57,76,44,"query"],[93,62,76,49],[93,63,76,50],[94,8,77,6],[94,14,77,12,"results"],[94,21,77,19],[94,24,77,22],[94,25,77,23],[94,29,77,27,"data"],[94,33,77,31],[94,34,77,32,"movies"],[94,40,77,38],[94,44,77,42],[94,46,77,44],[94,47,77,45],[94,49,77,47],[94,53,77,51,"data"],[94,57,77,55],[94,58,77,56,"series"],[94,64,77,62],[94,68,77,66],[94,70,77,68],[94,71,77,69],[94,72,77,70],[95,8,78,6,"set"],[95,11,78,9],[95,12,78,10],[96,10,78,12,"searchResults"],[96,23,78,25],[96,25,78,27,"results"],[96,32,78,34],[97,10,78,36,"isLoadingSearch"],[97,25,78,51],[97,27,78,53],[98,8,78,59],[98,9,78,60],[98,10,78,61],[99,6,79,4],[99,7,79,5],[99,8,79,6],[99,15,79,13,"error"],[99,20,79,23],[99,22,79,25],[100,8,80,6,"set"],[100,11,80,9],[100,12,80,10],[101,10,80,12,"error"],[101,15,80,17],[101,17,80,19,"error"],[101,22,80,24],[101,23,80,25,"message"],[101,30,80,32],[102,10,80,34,"isLoadingSearch"],[102,25,80,49],[102,27,80,51],[103,8,80,57],[103,9,80,58],[103,10,80,59],[104,6,81,4],[105,4,82,2],[105,5,82,3],[106,4,84,2,"fetchStreams"],[106,16,84,14],[106,18,84,16],[106,24,84,16,"fetchStreams"],[106,25,84,23,"type"],[106,29,84,35],[106,31,84,37,"id"],[106,33,84,47],[106,38,84,52],[107,6,85,4,"set"],[107,9,85,7],[107,10,85,8],[108,8,85,10,"isLoadingStreams"],[108,24,85,26],[108,26,85,28],[108,30,85,32],[109,8,85,34,"streams"],[109,15,85,41],[109,17,85,43],[109,19,85,45],[110,8,85,47,"error"],[110,13,85,52],[110,15,85,54],[111,6,85,59],[111,7,85,60],[111,8,85,61],[112,6,86,4],[112,12,86,10],[113,8,86,12,"addons"],[114,6,86,19],[114,7,86,20],[114,10,86,23,"get"],[114,13,86,26],[114,14,86,27],[114,15,86,28],[115,6,87,4],[115,12,87,10,"allStreams"],[115,22,87,30],[115,25,87,33],[115,27,87,35],[117,6,89,4],[118,6,90,4],[118,12,90,10,"streamAddons"],[118,24,90,22],[118,27,90,25,"addons"],[118,33,90,31],[118,34,90,32,"filter"],[118,40,90,38],[118,41,90,39,"addon"],[118,46,90,44],[118,50,91,6,"addon"],[118,55,91,11],[118,56,91,12,"manifest"],[118,64,91,20],[118,65,91,21,"resources"],[118,74,91,30],[118,75,91,31,"includes"],[118,83,91,39],[118,84,91,40],[118,92,91,48],[118,93,91,49],[118,97,92,6,"addon"],[118,102,92,11],[118,103,92,12,"manifest"],[118,111,92,20],[118,112,92,21,"resources"],[118,121,92,30],[118,122,92,31,"some"],[118,126,92,35],[118,127,92,37,"r"],[118,128,92,43],[118,132,92,48,"r"],[118,133,92,49],[118,135,92,51,"name"],[118,139,92,55],[118,144,92,60],[118,152,92,68],[118,153,93,4],[118,154,93,5],[119,6,95,4],[119,11,95,9],[119,17,95,15,"addon"],[119,22,95,20],[119,26,95,24,"streamAddons"],[119,38,95,36],[119,40,95,38],[120,8,96,6],[120,12,96,10],[121,10,97,8],[121,16,97,14,"result"],[121,22,97,20],[121,25,97,23],[121,31,97,29,"api"],[121,41,97,32],[121,42,97,32,"api"],[121,45,97,32],[121,46,97,33,"addons"],[121,52,97,39],[121,53,97,40,"getStreams"],[121,63,97,50],[121,64,97,51,"addon"],[121,69,97,56],[121,70,97,57,"id"],[121,72,97,59],[121,74,97,61,"type"],[121,78,97,65],[121,80,97,67,"id"],[121,82,97,69],[121,83,97,70],[122,10,98,8],[122,14,98,12,"result"],[122,20,98,18],[122,21,98,19,"streams"],[122,28,98,26],[122,30,98,28],[123,12,99,10,"allStreams"],[123,22,99,20],[123,23,99,21,"push"],[123,27,99,25],[123,28,99,26],[123,31,99,29,"result"],[123,37,99,35],[123,38,99,36,"streams"],[123,45,99,43],[123,46,99,44],[124,10,100,8],[125,8,101,6],[125,9,101,7],[125,10,101,8],[125,17,101,15,"e"],[125,18,101,16],[125,20,101,18],[126,10,102,8],[127,10,103,8,"console"],[127,17,103,15],[127,18,103,16,"log"],[127,21,103,19],[127,22,103,20],[127,52,103,50,"addon"],[127,57,103,55],[127,58,103,56,"manifest"],[127,66,103,64],[127,67,103,65,"name"],[127,71,103,69],[127,73,103,71],[127,74,103,72],[128,8,104,6],[129,6,105,4],[130,6,107,4,"set"],[130,9,107,7],[130,10,107,8],[131,8,107,10,"streams"],[131,15,107,17],[131,17,107,19,"allStreams"],[131,27,107,29],[132,8,107,31,"isLoadingStreams"],[132,24,107,47],[132,26,107,49],[133,6,107,55],[133,7,107,56],[133,8,107,57],[134,6,108,4],[134,13,108,11,"allStreams"],[134,23,108,21],[135,4,109,2],[135,5,109,3],[136,4,111,2,"addToLibrary"],[136,16,111,14],[136,18,111,16],[136,24,111,23,"item"],[136,28,111,40],[136,32,111,45],[137,6,112,4],[137,10,112,8],[138,8,113,6],[138,14,113,12,"api"],[138,24,113,15],[138,25,113,15,"api"],[138,28,113,15],[138,29,113,16,"library"],[138,36,113,23],[138,37,113,24,"add"],[138,40,113,27],[138,41,113,28,"item"],[138,45,113,32],[138,46,113,33],[139,8,114,6],[139,14,114,12,"get"],[139,17,114,15],[139,18,114,16],[139,19,114,17],[139,20,114,18,"fetchLibrary"],[139,32,114,30],[139,33,114,31],[139,34,114,32],[140,6,115,4],[140,7,115,5],[140,8,115,6],[140,15,115,13,"error"],[140,20,115,23],[140,22,115,25],[141,8,116,6,"set"],[141,11,116,9],[141,12,116,10],[142,10,116,12,"error"],[142,15,116,17],[142,17,116,19,"error"],[142,22,116,24],[142,23,116,25,"message"],[143,8,116,33],[143,9,116,34],[143,10,116,35],[144,6,117,4],[145,4,118,2],[145,5,118,3],[146,4,120,2,"removeFromLibrary"],[146,21,120,19],[146,23,120,21],[146,29,120,21,"removeFromLibrary"],[146,30,120,28,"type"],[146,34,120,40],[146,36,120,42,"id"],[146,38,120,52],[146,43,120,57],[147,6,121,4],[147,10,121,8],[148,8,122,6],[148,14,122,12,"api"],[148,24,122,15],[148,25,122,15,"api"],[148,28,122,15],[148,29,122,16,"library"],[148,36,122,23],[148,37,122,24,"remove"],[148,43,122,30],[148,44,122,31,"type"],[148,48,122,35],[148,50,122,37,"id"],[148,52,122,39],[148,53,122,40],[149,8,123,6],[149,14,123,12,"get"],[149,17,123,15],[149,18,123,16],[149,19,123,17],[149,20,123,18,"fetchLibrary"],[149,32,123,30],[149,33,123,31],[149,34,123,32],[150,6,124,4],[150,7,124,5],[150,8,124,6],[150,15,124,13,"error"],[150,20,124,23],[150,22,124,25],[151,8,125,6,"set"],[151,11,125,9],[151,12,125,10],[152,10,125,12,"error"],[152,15,125,17],[152,17,125,19,"error"],[152,22,125,24],[152,23,125,25,"message"],[153,8,125,33],[153,9,125,34],[153,10,125,35],[154,6,126,4],[155,4,127,2],[155,5,127,3],[156,4,129,2,"clearSearch"],[156,15,129,13],[156,17,129,15,"clearSearch"],[156,18,129,15],[156,23,129,21],[157,6,130,4,"set"],[157,9,130,7],[157,10,130,8],[158,8,130,10,"searchResults"],[158,21,130,23],[158,23,130,25],[159,6,130,28],[159,7,130,29],[159,8,130,30],[160,4,131,2],[161,2,132,0],[161,3,132,1],[161,4,132,2],[161,5,132,3],[162,0,132,4],[162,3]],"functionMap":{"names":["<global>","create$argument_0","fetchDiscover","fetchAddons","fetchLibrary","search","fetchStreams","addons.filter$argument_0","addon.manifest.resources.some$argument_0","addToLibrary","removeFromLibrary","clearSearch"],"mappings":"AAA;oDCyB;iBCa;GDQ;eEE;GFQ;gBGE;GHQ;UIE;GJa;gBKE;uCCM;oCCE,gCD,CD;GLiB;gBQE;GRO;qBSE;GTO;eUE;GVE;EDC"},"hasCjsExports":false},"type":"js/module"}]}